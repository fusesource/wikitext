<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<?eclipse version="3.0"?>
<plugin>
   <extension-point id="teamProviders" name="Mylar Team Providers" schema="schema/teamProviders.exsd"/>
   <extension
         point="org.eclipse.mylar.core.context">
      <structureBridge class="org.eclipse.mylar.internal.ide.ResourceStructureBridge"/> 
   </extension>
   
   <extension
         point="org.eclipse.mylar.ui.context">
      <uiBridge
            class="org.eclipse.mylar.internal.ide.ui.ResourceUiBridge"
            contentType="*"/>
      <labelProvider
            class="org.eclipse.mylar.internal.ide.ui.ResourceContextLabelProvider"
            contentType="*"/>
   </extension>   
   
   <extension point="org.eclipse.ui.views"> 
   	  <view
          allowMultiple="false"
          category="org.eclipse.mylar"
          class="org.eclipse.mylar.internal.ide.ui.views.ActiveSearchView"
          icon="icons/eview16/active-search.gif"
          id="org.eclipse.mylar.ui.views.active.search"
          name="Active Search (Experimental)"/>
   </extension>

 	<extension point="org.eclipse.ui.preferencePages">
      <page 
         name="Team"
         class="org.eclipse.mylar.internal.ide.ui.preferences.MylarTeamPreferencePage"
         id="org.eclipse.mylar.team.ui.preferences"
         category="org.eclipse.mylar.ui.preferences">
      </page>  
      <page 
         name="Resources"
         class="org.eclipse.mylar.internal.ide.ui.preferences.MylarResourcesPreferencePage"
         id="org.eclipse.mylar.ide.preferences.resources"
         category="org.eclipse.mylar.ui.preferences">
      </page>  
   </extension>

    <extension point="org.eclipse.ui.viewActions"> 
	  <viewContribution 
		id="org.eclipse.mylar.ui.projectexplorer.filter" 
   		targetID="org.eclipse.ui.navigator.ProjectExplorer">
    	<action
           class="org.eclipse.mylar.internal.ide.ui.actions.ApplyMylarToProjectExplorerAction"
           enablesFor="*"
           icon="icons/elcl16/interest-filtering.gif"
           id="org.eclipse.mylar.ui.actions.FilterResourceNavigatorAction"
           label="Apply Mylar"
           menubarPath="mylar"
           style="toggle"
           toolbarPath="mylar"
           tooltip="Apply Mylar"> 
  		</action> 
      </viewContribution> 
      
	  <viewContribution 
		id="org.eclipse.mylar.ui.resource.navigator.filter" 
   		targetID="org.eclipse.ui.views.ResourceNavigator">
    	<action
           class="org.eclipse.mylar.internal.ide.ui.actions.ApplyMylarToNavigatorAction"
           enablesFor="*"
           icon="icons/elcl16/interest-filtering.gif"
           id="org.eclipse.mylar.ui.actions.FilterResourceNavigatorAction"
           label="Apply Mylar"
           menubarPath="mylar"
           style="toggle"
           toolbarPath="mylar"
           tooltip="Apply Mylar"> 
  		</action> 
      </viewContribution> 
      <viewContribution 
		id="org.eclipse.mylar.problems.contribution" 
   		targetID="org.eclipse.ui.views.ProblemView">
    	<action
           class="org.eclipse.mylar.internal.ide.ui.actions.ApplyMylarToProblemsListAction"
           enablesFor="*"
           icon="icons/elcl16/interest-filtering.gif"
           id="org.eclipse.mylar.ui.actions.ApplyMylarToProblemsListAction"
           label="Apply Mylar"
           menubarPath="mylar"
           style="toggle"
           toolbarPath="mylar"
           tooltip="Apply Mylar"> 
  		</action>  
      </viewContribution> 
	  <viewContribution 
		id="org.eclipse.mylar.markers.tasks.contribution" 
   		targetID="org.eclipse.ui.views.TaskList">
    	<action
           class="org.eclipse.mylar.internal.ide.ui.actions.ApplyMylarToMarkerTasksAction"
           enablesFor="*"
           icon="icons/elcl16/interest-filtering.gif"
           id="org.eclipse.mylar.ui.actions.ApplyMylarToProblemsListAction"
           label="Apply Mylar"
           menubarPath="mylar"
           style="toggle"
           toolbarPath="mylar"
           tooltip="Apply Mylar"> 
  		</action>  
      </viewContribution> 
    </extension>
    
    <extension
         id="org.eclipse.mylar.helpDocs"
         name="Mylar Help"
         point="org.eclipse.help.toc">
      <toc
            file="doc/toc.xml"
            primary="false">
      </toc>
   </extension>
    
  	<extension point = "org.eclipse.ui.popupMenus">
       <viewerContribution
            id="org.eclipse.mylar.java.ui.viewerContribution"
            targetID="org.eclipse.mylar.tasks.ui.views.TaskListView">
        <action
              class="org.eclipse.mylar.internal.ide.ui.actions.CommitContextAction"
              enablesFor="*"
              icon="icons/elcl16/context-commit.gif"
              id="org.eclipse.mylar.ide.ui.team.context.commit"
              label="Commit Context..."
              menubarPath="context"
              tooltip="Commit Context...">
           <enablement>
              <or> 
                 <objectClass name="org.eclipse.mylar.provisional.tasklist.ITask"/>
                 <objectClass name="org.eclipse.mylar.provisional.tasklist.AbstractQueryHit"/>
              </or>
           </enablement>
        </action>
     </viewerContribution>
     <objectContribution
        id="org.eclipse.mylar.ui.interest"
        objectClass="org.eclipse.core.resources.IResource">
     	<action  
  		  	label="Mylar: Make Less Interesting" 
	  		tooltip="Mark selected element as uninteresting"
	  		menubarPath="mylar" 
	  		id="org.eclipse.mylar.ui.actions.InterestDecrementAction" 
	  		class="org.eclipse.mylar.internal.ui.actions.InterestDecrementAction"
	  		icon="icons/elcl16/interest-decrease.gif"
	  		enablesFor="*"/>
	    <action  
  		  	label="Mylar: Mark as Landmark" 
	  		tooltip="Make selected element a landmark"
	  		menubarPath="mylar" 
	  		id="org.eclipse.mylar.ui.actions.InterestIncrementAction" 
	  		class="org.eclipse.mylar.internal.ui.actions.InterestIncrementAction"
	  		icon="icons/elcl16/interest-increase.gif"
	  		enablesFor="*"/>
	 </objectContribution>
   </extension>
   
   <extension point="org.eclipse.ui.popupMenus"> 
		<objectContribution
            objectClass="org.eclipse.team.ui.synchronize.ISynchronizeModelElement"
            id="org.eclipse.mylar.ui.team.synchronize.open.report">
         <action
	           class="org.eclipse.mylar.internal.ide.ui.actions.OpenCorrespondingTaskAction"
	           enablesFor="1" 
	           icon="icons/elcl16/task-repository.gif"
	           id="org.eclipse.mylar.ui.team.synchronize.contribution.open.report"
	           label="Open Corresponding Task"
	           menubarPath="mylar"
	           tooltip="Open Corresponding Task"> 
	  		</action> 
	    </objectContribution>
	   	<objectContribution
            objectClass="org.eclipse.team.internal.ccvs.core.client.listeners.LogEntry"
            id="org.eclipse.mylar.ui.team.history.open.report">
         <action
	           class="org.eclipse.mylar.internal.ide.ui.actions.OpenCorrespondingTaskAction"
	           enablesFor="1" 
	           icon="icons/elcl16/task-repository.gif"
	           id="org.eclipse.mylar.ui.team.synchronize.contribution.open.report"
	           label="Open Corresponding Task"
	           menubarPath="mylar"
	           tooltip="Open Corresponding Task"> 
	  		</action> 
	    </objectContribution>
		<objectContribution
            objectClass="org.eclipse.team.core.history.IFileRevision"
            id="org.eclipse.mylar.ui.team.synchronize.open.report">
         <action
	           class="org.eclipse.mylar.internal.ide.ui.actions.OpenCorrespondingTaskAction"
	           enablesFor="1" 
	           icon="icons/elcl16/task-repository.gif"
	           id="org.eclipse.mylar.ui.team.synchronize.contribution.open.report"
	           label="Open Corresponding Task"
	           menubarPath="mylar"
	           tooltip="Open Corresponding Task"> 
	  		</action> 
	    </objectContribution>
	    <!--
		<objectContribution
            objectClass="org.eclipse.team.internal.ui.synchronize.ChangeSetDiffNode"
            id="org.eclipse.mylar.ui.team.synchronize.open.report">
         <action
	           class="org.eclipse.mylar.internal.ide.ui.actions.OpenCorrespondingTaskAction"
	           enablesFor="1" 
	           icon="icons/elcl16/task-repository.gif"
	           id="org.eclipse.mylar.ui.team.synchronize.contribution.open.report"
	           label="Open Corresponding Task"
	           menubarPath="mylar"
	           tooltip="Open Corresponding Task"> 
	  		</action> 
	    </objectContribution>
	    -->
	</extension>
    <extension
         point="org.eclipse.ui.decorators">
      <decorator
            class="org.eclipse.mylar.internal.ide.ui.MylarChangeSetDecorator"
            id="org.eclipse.mylar.team.changeset.decorator"
            label="Mylar Change Set Decorator"
            lightweight="true"
            objectClass="org.eclipse.mylar.internal.ide.team.MylarActiveChangeSet"
            state="true">
      </decorator>
    </extension>
    
   <extension
         point="org.eclipse.mylar.ide.teamProviders">
      <repositoryProvider class="org.eclipse.mylar.internal.ide.team.ccvs.CVSRepositoryProvider"/>
   </extension>
   <extension
         point="org.eclipse.mylar.ide.teamProviders">
      <repositoryProvider class="org.eclipse.mylar.internal.ide.team.subclipse.SubclipseTeamRepositoryProvider"/>
   </extension>
   
   <extension point="org.eclipse.ui.navigator.navigatorContent">
	   <actionProvider           
	   	 class="org.eclipse.mylar.internal.ide.ui.actions.TaskResourceMappingActionProvider"
	     id="org.eclipse.mylar.ide.ui.actions.TaskResourceMappingActionProvider">
	     <enablement>
	       <adapt type="org.eclipse.core.resources.mapping.ResourceMapping"/>
	     </enablement>
	   </actionProvider>
	</extension>

	<extension point="org.eclipse.ui.navigator.viewer">
	   <viewerActionBinding
	      viewerId="org.eclipse.team.cvs.ui.workspaceSynchronization">
	        <includes>
	           <actionExtension
			       pattern="org.eclipse.mylar.ide.ui.actions.TaskResourceMappingActionProvider"/>
	        </includes>
	   </viewerActionBinding>
	</extension>
   
</plugin>
