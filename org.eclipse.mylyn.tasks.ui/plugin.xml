<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
    <extension-point id="providers" name="Tasklist Providers" schema="schema/providers.exsd"/>
    <extension-point id="repositories" name="Task Repositories" schema="schema/repositories.exsd"/>
    <extension-point id="editors" name="Task Editors" schema="schema/editors.exsd"/>
    <extension-point id="templates" name="templates" schema="schema/templates.exsd"/>

    <extension
         point="org.eclipse.mylar.context.core.bridges">
   	  	<contextStore class="org.eclipse.mylar.internal.tasks.ui.FileBasedContextStore"/>
    </extension>
	
	<extension point="org.eclipse.ui.views">
     	<category name="Mylar" id="org.eclipse.mylar"/>
    </extension>
     	
    <extension point="org.eclipse.ui.newWizards">
        <category name="Mylar" id="org.eclipse.mylar.wizards"/>
    </extension>

    <extension
         name="Mylar Task List Startup (required)"
         point="org.eclipse.ui.startup">
    </extension>

	<extension
         id="org.eclipse.mylar.helpDocs"
         name="Mylar Help"
         point="org.eclipse.help.toc">
      <toc
            file="doc/toc.xml"
            primary="false">
      </toc>
    </extension>

    <extension point="org.eclipse.ui.newWizards">
      <wizard
            category="org.eclipse.mylar.wizards"
            class="org.eclipse.mylar.internal.tasks.ui.planner.TaskActivityWizard"
            icon="icons/eview16/task-list.gif"
            id="org.eclipse.mylar.tasklist.report.ui.planningGameWizard"
            name="Task Activity Report (Experimental)">
      </wizard>
      <wizard
            canFinishEarly="true"
            category="org.eclipse.mylar.wizards"
            class="org.eclipse.mylar.internal.tasks.ui.wizards.NewLocalTaskWizard"
            icon="icons/etool16/task-new.gif"
            id="org.eclipse.mylar.tasklist.wizard.new.task"
            name="New Local Task"/>
	  <wizard
            category="org.eclipse.mylar.wizards"
            class="org.eclipse.mylar.internal.tasks.ui.wizards.NewRepositoryTaskWizard"
            icon="icons/etool16/task-repository-new.gif"
            id="org.eclipse.mylar.tasklist.wizard.new.repository.task"
            name="New Repository Task"/>
      <wizard
            category="org.eclipse.mylar.wizards"
            class="org.eclipse.mylar.internal.tasks.ui.wizards.NewQueryWizard"
            icon="icons/etool16/query-new.gif"
            id="org.eclipse.mylar.tasklist.wizard.new.query"
            name="New Repository Query"/>
	</extension>

  <extension
        point="org.eclipse.ui.importWizards">
     <wizard
           category="org.eclipse.mylar.tasklist.importcategory"
           class="org.eclipse.mylar.internal.tasks.ui.wizards.TaskDataImportWizard"
           icon="icons/eview16/task-list.gif"
           id="org.eclipse.mylar.tasklist.ui.importWizard"
           name="Mylar Task Data">
        <description>
           Import Mylar task data files from file system.
        </description>
     </wizard>
     <category
           id="org.eclipse.mylar.tasklist.importcategory"
           name="Mylar"/>
  </extension>

     <extension point="org.eclipse.ui.exportWizards"> 
      <wizard
            category="org.eclipse.mylar.tasklist.exportcategory"
            class="org.eclipse.mylar.internal.tasks.ui.wizards.TaskDataExportWizard"
            icon="icons/eview16/task-list.gif"
            id="org.eclipse.mylar.tasklist.ui.exportWizard"
            name="Mylar Task Data"> 
         <description> 
            Export Mylar task data files to the file system.
         </description> 
      </wizard>
      <category
            id="org.eclipse.mylar.tasklist.exportcategory"
            name="Mylar"/> 
    </extension> 

   <extension point="org.eclipse.ui.decorators">
      <decorator
            class="org.eclipse.mylar.internal.tasks.ui.RepositoryTaskDecorator"
            id="org.eclipse.mylar.tasklist.ui.decorator.repositories"
            label="Mylar Repository Task Decorator"
            lightweight="true"
            state="true">
         <description>
			Mylar Repository Task Decorator
		 </description>
         <enablement>
            <objectClass name="org.eclipse.mylar.tasks.core.ITaskListElement"/>
         </enablement>
      </decorator>
   </extension>
	
  
   <extension
         point="org.eclipse.ui.views">
      <view
         allowMultiple="false"
         category="org.eclipse.mylar"
         class="org.eclipse.mylar.internal.tasks.ui.views.TaskListView"
         icon="icons/eview16/task-list.gif"
         id="org.eclipse.mylar.tasks.ui.views.TaskListView"
         name="Task List"/> 
      <view
            id="org.eclipse.mylar.tasklist.repositories"
            allowMultiple="false"
            category="org.eclipse.mylar"
            class="org.eclipse.mylar.internal.tasks.ui.views.TaskRepositoriesView"
            icon="icons/eview16/repositories.gif"
            name="Task Repositories">
      </view>
      <view
            allowMultiple="false"
            category="org.eclipse.mylar"
            class="org.eclipse.mylar.internal.tasks.ui.views.TaskActivityView"
            icon="icons/eview16/task-activity.gif"
            id="org.eclipse.mylar.tasklist.activity"
            name="Task Activity (Experimental)"/>
  	</extension>

  	<extension
        point="org.eclipse.ui.editors">
     <editor
           class="org.eclipse.mylar.internal.tasks.ui.editors.MylarTaskEditor"
           contributorClass="org.eclipse.mylar.internal.tasks.ui.editors.TaskEditorActionContributor"
           icon="icons/etool16/task.gif"
           id="org.eclipse.mylar.tasklist.ui.taskEditor"
           name="Task Editor"/>
	    <editor
           icon="icons/etool16/task.gif"
           class="org.eclipse.mylar.internal.tasks.ui.editors.CategoryEditor"
           name="Category Editor"
           id="org.eclipse.mylar.tasklist.ui.catEditor"/>
    <editor
           icon="icons/eview16/task-list.gif"
           class="org.eclipse.mylar.internal.tasks.ui.planner.TaskActivityEditorPart"
           name="Mylar Task Planner"
           id="org.eclipse.mylar.tasklist.ui.planner.editor"/>                      
  </extension>
  
      <extension point="org.eclipse.ui.perspectiveExtensions">
          <perspectiveExtension targetID="org.eclipse.jdt.ui.JavaPerspective">
               <viewShortcut id="org.eclipse.mylar.tasks.ui.views.TaskListView"/>
               <view
                     closeable="true"
                     id="org.eclipse.mylar.tasks.ui.views.TaskListView"
                     moveable="true"
                     ratio="0.5"
                     relationship="top"
                     relative="org.eclipse.ui.views.ContentOutline"
                     visible="true"/>
          </perspectiveExtension>
		  <perspectiveExtension targetID="org.eclipse.jdt.ui.JavaBrowsingPerspective">
               <viewShortcut id="org.eclipse.mylar.tasks.ui.views.TaskListView"/>
          </perspectiveExtension>
      	<perspectiveExtension
            targetID="org.eclipse.ui.resourcePerspective">
            <viewShortcut id="org.eclipse.mylar.tasks.ui.views.TaskListView"/>
	         <view
                id="org.eclipse.mylar.tasks.ui.views.TaskListView"
                relationship="left"
                relative="org.eclipse.ui.views.TaskList"
                >
         </view>
      </perspectiveExtension>
       
       <perspectiveExtension targetID="org.eclipse.team.cvs.ui.cvsPerspective">
        <view
              id="org.eclipse.mylar.tasklist.repositories"
              ratio="0.7"
              relationship="bottom"
              relative="org.eclipse.team.ccvs.ui.RepositoriesView"
              visible="true"/>
        <viewShortcut id="org.eclipse.mylar.tasklist.repositories"/>
     </perspectiveExtension>
     <perspectiveExtension targetID="org.tigris.subversion.subclipse.ui.svnPerspective">
        <view
              id="org.eclipse.mylar.tasklist.repositories"
              ratio="0.7"
              relationship="bottom"
              relative="org.tigris.subversion.subclipse.ui.repository.RepositoriesView"
              visible="true"/>
        <viewShortcut id="org.eclipse.mylar.tasklist.repositories"/>
     </perspectiveExtension>
     <perspectiveExtension targetID="org.eclipse.team.ui.TeamSynchronizingPerspective">
        <view
              id="org.eclipse.mylar.tasklist.repositories"
              ratio="0.7"
              relationship="bottom"
              relative="org.eclipse.team.sync.views.SynchronizeView"
              visible="true"/>
        <viewShortcut id="org.eclipse.mylar.tasklist.repositories"/>
     </perspectiveExtension>
	</extension>
  
   <extension point="org.eclipse.ui.viewActions"> 
		<viewContribution 
			id="org.eclipse.mylar.tasklist.actions.view" 
	   		targetID="org.eclipse.mylar.tasks.ui.views.TaskListView">
  		
  		<action
               class="org.eclipse.mylar.internal.tasks.ui.actions.NewRepositoryTaskAction"
               enablesFor="*"
               icon="icons/etool16/task-repository-new.gif"
               id="org.eclipse.mylar.tasklist.new.repositorytask"
               label="New Repository Task"
               style="push"
               toolbarPath="reports"
               tooltip="New Repository Task"> 
  		</action>
  		
  		<action
               class="org.eclipse.mylar.internal.tasks.ui.SynchronizeAllAction"
               enablesFor="*"
               icon="icons/etool16/repository-synchronize.gif"
               id="org.eclipse.mylar.tasklist.synchronize"
               label="Synchronize All"
               menubarPath="additions"
               tooltip="Synchronize All Tasks and Queries">
         </action>
         <!--
    	<action
          class="org.eclipse.mylar.internal.tasklist.ui.actions.CopyDetailsAction"
          id="org.eclipse.mylar.tasklist.copy.details"
          label="Copy Details"
          style="push"/>
  		-->
	    </viewContribution> 
	</extension>

  <extension point="org.eclipse.ui.popupMenus">
      <viewerContribution
            id="org.eclipse.mylar.tasklist.ui.viewerContribution"
            targetID="org.eclipse.mylar.tasks.ui.views.TaskListView">

         <action
               class="org.eclipse.mylar.internal.tasks.ui.SynchronizeSelectedAction"
               definitionId="org.eclipse.ui.file.refresh"
               enablesFor="*"
               icon="icons/etool16/repository-synchronize.gif"
               id="org.eclipse.mylar.tasklist.synchronize.selected"
               label="Synchronize"
               menubarPath="reports"
               tooltip="Synchronize with Repository">
            <enablement>
               <or>
                    <objectClass name="org.eclipse.mylar.tasks.core.AbstractQueryHit"/>
					<objectClass name="org.eclipse.mylar.tasks.core.AbstractRepositoryQuery"/>
               		<objectClass name="org.eclipse.mylar.tasks.core.AbstractRepositoryTask"/>
                 <objectClass name="org.eclipse.mylar.tasks.core.AbstractTaskContainer"/>
               </or>
            </enablement>
         </action>
         
		<action
              class="org.eclipse.mylar.internal.tasks.ui.actions.AddRepositoryTaskAction"
              enablesFor="*"
              icon="icons/etool16/task-repository.gif"
              id="org.eclipse.mylar.tasklist.actions.addQuery"
              menubarPath="reports"
              label="Add Existing Repository Task"
              style="push"
              tooltip="Add Repository Task"> 
  		</action>
  		
  		<action
	        class="org.eclipse.mylar.internal.tasks.ui.actions.NewRepositoryTaskAction"
	        enablesFor="*"
	        icon="icons/etool16/task-repository-new.gif"
	        id="org.eclipse.mylar.tasklist.new.repositorytask"
	        label="New Repository Task"
	        menubarPath="reports"
	        tooltip="New Repository Task"/>
	              
		<action
              class="org.eclipse.mylar.internal.tasks.ui.actions.NewQueryAction"
              enablesFor="*"
              icon="icons/etool16/query-new.gif"
              id="org.eclipse.mylar.tasklist.actions.addQuery"
              menubarPath="reports"
              label="New Repository Query"
              style="push"
              tooltip="New Repository Query"> 
  		</action>
      </viewerContribution>
      
      <viewerContribution
		    id="org.eclipse.mylar.tasklist.ui.objectContribution"
            targetID="org.eclipse.pde.runtime.LogView">
      	<action
	      	class="org.eclipse.mylar.internal.tasks.ui.actions.NewTaskFromErrorAction"
	        icon="icons/etool16/task-repository-new.gif"
	        id="org.eclipse.mylar.tasklist.actions.newTaskFromErrorLog"
	        label="Report Error Event"
	        menubarPath="org.eclipse.pde.runtime.LogView"/>
      </viewerContribution>
   </extension>

  <extension point="org.eclipse.ui.preferencePages">
      <page 
         name="Task List"
         class="org.eclipse.mylar.internal.tasks.ui.preferences.TaskListPreferencePage"
         id="org.eclipse.mylar.tasklist.ui.preferences"
         category="org.eclipse.mylar.ui.preferences">
      </page>
      <!--
      <page
            category="org.eclipse.mylar.ui.preferences"
            class="org.eclipse.mylar.internal.tasklist.ui.preferences.MylarRepositoriesPreferencePage"
            id="org.eclipse.mylar.tasklist.ui.preferences.repositories"
            name="Task Repositories"/> 
       -->
   </extension>


<!--
   <extension point="org.eclipse.ui.commands">
        <command
            name="Mylar Tasks"
            description="Open Mylar Tasks View"
            categoryId="org.eclipse.ui.category.views"
            id="org.eclipse.mylar.tasklist.ui.views.TaskListView">
      </command>
   </extension>
   -->
  <extension point="org.eclipse.ui.bindings">
      <key
            sequence="M2+M3+Q M"
            contextId="org.eclipse.ui.contexts.window"
            commandId="org.eclipse.ui.views.showView"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
            <parameter 
            	id="org.eclipse.ui.views.showView.viewId"
            	value="org.eclipse.mylar.tasks.ui.views.TaskListView"/>
      </key>
  </extension>
  
   <extension
         point="org.eclipse.ui.themes">
      <themeElementCategory
           id="org.eclipse.mylar.tasklist.ui.presentation"
           label="Mylar"/>
     <colorDefinition
           categoryId="org.eclipse.mylar.tasklist.ui.presentation"
           id="org.eclipse.mylar.tasklist.ui.colors.foreground.overdue"
           isEditable="true"
           label="Tasks - Overdue"
           value="198,4,38"> 
         <description>
            Text color for overdue tasks.
         </description>
     </colorDefinition>
     <colorDefinition
           categoryId="org.eclipse.mylar.tasklist.ui.presentation"
           id="org.eclipse.mylar.tasklist.ui.colors.foreground.today.scheduled"
           isEditable="true"
           label="Tasks - Scheduled for Today"
           value="32,21,223">  
         <description>
            Text color for tasks scheduled for today.
         </description>
     </colorDefinition>
     <colorDefinition
           categoryId="org.eclipse.mylar.tasklist.ui.presentation"
           id="org.eclipse.mylar.tasklist.ui.colors.foreground.thisweek.scheduled"
           isEditable="true"
           label="Tasks - Scheduled for This Week"
           value="0,0,0">  
         <description>
            Text color for tasks scheduled for this week
         </description>
     </colorDefinition>
     <colorDefinition
           categoryId="org.eclipse.mylar.tasklist.ui.presentation"
           id="org.eclipse.mylar.tasklist.ui.colors.foreground.today.completed"
           isEditable="true"
           label="Tasks - Completed Today"
           value="107,169,128">  
         <description>
            Text color for tasks completed.
         </description>
     </colorDefinition>
     <colorDefinition
           categoryId="org.eclipse.mylar.tasklist.ui.presentation"
           id="org.eclipse.mylar.tasklist.ui.colors.background.category"
           isEditable="true"
           label="Categories - Background"
           value="234,233,237"> 
         <description>
            Background color of Task List categories and queries.
         </description>
     </colorDefinition>
         
	<fontDefinition
        categoryId="org.eclipse.mylar.tasklist.ui.presentation"
        defaultsTo="org.eclipse.jface.dialogfont"
        id="org.eclipse.mylar.tasklist.ui.fonts.task.editor.comment"
        isEditable="true"
        label="Task Editor - Notes and Comments">
         <description>
            Text font used for task editor text areas.
         </description>
      </fontDefinition>
   </extension>
   
    

   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="org.eclipse.mylar.internal.tasks.ui.PlanningPerspectiveFactory"
            icon="icons/eview16/task-activity.gif"
            id="org.eclipse.mylar.tasklist.ui.perspectives.planning"
            name="Planning"/>
   </extension>
  
     
   <extension point="org.eclipse.mylar.tasks.ui.providers">    
      <dynamicPopupMenu class="org.eclipse.mylar.internal.tasks.ui.TaskReminderMenuContributor"/>
      <dynamicPopupMenu class="org.eclipse.mylar.internal.tasks.ui.MoveToCategoryMenuContributor"/>
   </extension>
   <extension
         point="org.eclipse.mylar.tasks.ui.editors">
      <hyperlinkDetector
            class="org.eclipse.mylar.internal.tasks.ui.editors.TaskEditorUrlHyperlinkDetector"
            id="org.eclipse.mylar.tasklist.hyperlinkdetector.url"/>
   </extension>
   
   <!--
   <extension
         point="org.eclipse.mylar.tasklist.editors">
      <hyperlinkDetector class="org.eclipse.ui.internal.editors.text.URLHyperlinkDetector"/>
   </extension>
   -->
   
    <!--<extension
          point="org.eclipse.mylar.tasklist.editors">
       <hyperlinkListener
             class="org.eclipse.mylar.internal.tasklist.ui.TaskHyperlinkAdapter"
             id="org.eclipse.mylar.tasklist.hyperlinkLister.task"
             type="task"/>
    </extension>-->

  
</plugin>


<!--	
     	<action  
  		  	label="Go Into Category" 
	  		tooltip="Go Into Category"
	  		menubarPath="tasks" 
	  		id="org.eclipse.mylar.tasklist.actions.category.gointo" 
	  		class="org.eclipse.mylar.tasklist.ui.actions.GoIntoAction"
	  		icon="icons/etool16/go-into.gif"
	  		enablesFor="1"/>
-->
