<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<?eclipse version="3.0"?>
<plugin>
   <extension-point id="providers" name="Mylar Team Providers" schema="schema/providers.exsd"/>
   <extension-point id="templateHandlers" name="Mylar Template Handlers" schema="schema/templateHandlers.exsd"/>
    
   <extension
         point="org.eclipse.mylar.team.providers">
      <repository class="org.eclipse.mylar.internal.team.ccvs.CvsRepositoryProvider"/>
      <repository class="org.eclipse.mylar.internal.team.subclipse.SubclipseTeamRepositoryProvider"/>
   </extension>
    
   <extension
         point="org.eclipse.ui.decorators">
      <decorator
            class="org.eclipse.mylar.internal.team.ui.ContextChangeSetDecorator"
            id="org.eclipse.mylar.team.changeset.decorator"
            label="Mylar Change Set Decorator"
            lightweight="true"
            objectClass="org.eclipse.mylar.internal.team.ContextChangeSet"
            state="true">
      </decorator>
    </extension>
    
	<extension
         name="Mylar Team Startup (Change Set management)"
         point="org.eclipse.ui.startup">
    </extension>
    
     <extension point="org.eclipse.ui.popupMenus"> 
		<objectContribution
            objectClass="org.eclipse.team.ui.synchronize.ISynchronizeModelElement"
            id="org.eclipse.mylar.ui.team.synchronize.open.report">
         <action
	           class="org.eclipse.mylar.internal.team.ui.actions.OpenCorrespondingTaskAction"
	           enablesFor="1" 
	           icon="icons/elcl16/task-repository.gif"
	           id="org.eclipse.mylar.ui.team.synchronize.contribution.open.report"
	           label="Open Corresponding Task"
	           menubarPath="mylar"
	           tooltip="Open Corresponding Task"> 
	  		</action> 
	    </objectContribution>
	   	<objectContribution
            objectClass="org.eclipse.team.internal.ccvs.core.client.listeners.LogEntry"
            id="org.eclipse.mylar.ui.team.history.open.report">
         <action
	           class="org.eclipse.mylar.internal.team.ui.actions.OpenCorrespondingTaskAction"
	           enablesFor="1" 
	           icon="icons/elcl16/task-repository.gif"
	           id="org.eclipse.mylar.ui.team.synchronize.contribution.open.report"
	           label="Open Corresponding Task"
	           menubarPath="mylar"
	           tooltip="Open Corresponding Task"> 
	  		</action> 
	    </objectContribution>
		<objectContribution
            objectClass="org.eclipse.team.core.history.IFileRevision"
            id="org.eclipse.mylar.ui.team.synchronize.open.report">
         <action
	           class="org.eclipse.mylar.internal.team.ui.actions.OpenCorrespondingTaskAction"
	           enablesFor="1" 
	           icon="icons/elcl16/task-repository.gif"
	           id="org.eclipse.mylar.ui.team.synchronize.contribution.open.report"
	           label="Open Corresponding Task"
	           menubarPath="mylar"
	           tooltip="Open Corresponding Task"> 
	  		</action> 
	    </objectContribution>
	    <!--
		<objectContribution
            objectClass="org.eclipse.team.internal.ui.synchronize.ChangeSetDiffNode"
            id="org.eclipse.mylar.ui.team.synchronize.open.report">
         <action
	           class="org.eclipse.mylar.internal.ide.ui.actions.OpenCorrespondingTaskAction"
	           enablesFor="1" 
	           icon="icons/elcl16/task-repository.gif"
	           id="org.eclipse.mylar.ui.team.synchronize.contribution.open.report"
	           label="Open Corresponding Task"
	           menubarPath="mylar"
	           tooltip="Open Corresponding Task"> 
	  		</action> 
	    </objectContribution>
	    -->
	</extension>
    
    <extension point="org.eclipse.ui.navigator.navigatorContent">
	   <actionProvider           
	   	 class="org.eclipse.mylar.internal.team.ui.actions.TaskResourceMappingActionProvider"
	     id="org.eclipse.mylar.ide.ui.actions.TaskResourceMappingActionProvider">
	     <enablement>
	       <adapt type="org.eclipse.core.resources.mapping.ResourceMapping"/>
	     </enablement>
	   </actionProvider>
	</extension>
	
	<extension point = "org.eclipse.ui.popupMenus">
	    <objectContribution
	           adaptable="false"
	           id="org.eclipse.mylar.ide.team.ui.objectContribution"
	           objectClass="org.eclipse.mylar.tasks.core.AbstractQueryHit">
			<action
	              class="org.eclipse.mylar.internal.team.ui.actions.CommitContextAction"
	              enablesFor="*"
	              icon="icons/elcl16/context-commit.gif"
	              id="org.eclipse.mylar.team.context.commit.hit"
	              label="Commit Context..."
	              menubarPath="context"
	              tooltip="Commit Context...">
	        </action>
		</objectContribution>
	     <objectContribution
	           adaptable="false"
	           id="org.eclipse.mylar.ide.team.ui.objectContribution"
	           objectClass="org.eclipse.mylar.tasks.core.ITask">
			<action
	              class="org.eclipse.mylar.internal.team.ui.actions.CommitContextAction"
	              enablesFor="*"
	              icon="icons/elcl16/context-commit.gif"
	              id="org.eclipse.mylar.team.context.commit.task"
	              label="Commit Context..."
	              menubarPath="context"
	              tooltip="Commit Context...">
	        </action>
		</objectContribution>
   </extension>
	
  <extension point="org.eclipse.ui.preferencePages">
      <page 
         name="Team"
         class="org.eclipse.mylar.internal.team.ui.preferences.MylarTeamPreferencePage"
         id="org.eclipse.mylar.team.ui.preferences"
         category="org.eclipse.mylar.ui.preferences">
         <keywordReference id="org.eclipse.mylar.team.keywords"/>
      </page> 
   </extension>
   
   <extension
   		point="org.eclipse.ui.keywords">
      <keyword
            label="mylar team"
            id="org.eclipse.mylar.team.keywords"/>
   </extension>
   
   	<extension point="org.eclipse.ui.navigator.viewer">
	   <viewerActionBinding
	      viewerId="org.eclipse.team.cvs.ui.workspaceSynchronization">
	        <includes>
	           <actionExtension
			       pattern="org.eclipse.mylar.ide.ui.actions.TaskResourceMappingActionProvider"/>
	        </includes>
	   </viewerActionBinding>
	</extension>
	
    <extension
          point="org.eclipse.mylar.team.templateHandlers">
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$ConnectorTaskPrefix"
             description="Task repository-specific connector prefix, e.g. bug"
             recognizedKeyword="connector.task.prefix"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$RepositoryKind"
             description="Provides the repository kind of a Mylar task"
             recognizedKeyword="repository.kind"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$RepositoryUrl"
             description="Provides the repository URL of a Mylar task."
             recognizedKeyword="repository.url"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$TaskAssignee"
             description="Provides the user a Mylar task is assigned to, if available."
             recognizedKeyword="task.assignee"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$TaskCc"
             description="Provides the comma separated CC list of a Mylar task, if available."
             recognizedKeyword="task.cc"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$TaskDescription"
             description="Provides the description of a Mylar task."
             recognizedKeyword="task.description"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$TaskHandle"
             description="Provides the handle of a Mylar task."
             recognizedKeyword="task.handle"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$TaskID"
             description="Provides the ID of a Mylar task."
             recognizedKeyword="task.id"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$TaskKeywords"
             description="Provides the comma separated keyword list of a Mylar task, if available."
             recognizedKeyword="task.keywords"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$TaskLastModified"
             description="Provides the date of last modification of a Mylar task, if available."
             recognizedKeyword="task.lastmodified"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$TaskNotes"
             description="Provides the notes of a Mylar task."
             recognizedKeyword="task.notes"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$TaskPriority"
             description="Provides the priority of a Mylar task."
             recognizedKeyword="task.priority"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$TaskProduct"
             description="Provides the prroduct a Mylar task belongs to, if available."
             recognizedKeyword="task.product"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$TaskReporter"
             description="Provides the user who reported a Mylar task, if available."
             recognizedKeyword="task.reporter"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$TaskResolution"
             description="Provides the resolution of a Mylar task, if available."
             recognizedKeyword="task.resolution"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$TaskStatus"
             description="Provides the status of a Mylar task, if available."
             recognizedKeyword="task.status"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$TaskSummary"
             description="Provides the summary or description of a Mylar task, whichever is available."
             recognizedKeyword="task.summary"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$TaskType"
             description="Provides the type of a Mylar task."
             recognizedKeyword="task.type"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$TaskURL"
             description="Provides the URL of a Mylar task."
             recognizedKeyword="task.url"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$CommitTemplateDate$TaskCompletion"
             description="Provides the completion date of a Mylar task."
             recognizedKeyword="task.completiondate"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$CommitTemplateDate$TaskCreation"
             description="Provides the creation date of a Mylar task."
             recognizedKeyword="task.creationdate"/>
       <templateHandler
             class="org.eclipse.mylar.internal.team.template.CommitTemplate$CommitTemplateDate$TaskReminder"
             description="Provides the reminder date of a Mylar task."
             recognizedKeyword="task.reminderdate"/>
    </extension>
	
</plugin>
